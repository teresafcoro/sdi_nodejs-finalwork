{% extends 'layout.twig' %}
{% block main_container %}
    <h2>Listado de Usuarios</h2>
    <div class="row">
        <div class="container mb-3">
            <a href="/users" class="btn btn-primary" title="Recargar">Recargar</a>
        </div>
        {% if users.length > 0 %}
            <form method="post" action="/users/delete">
                <table class="table table-striped">
                    <thead>
                    <tr>
                        <th>Email</th>
                        <th>Nombre</th>
                        <th>Apellidos</th>
                        <th><input id="btnBorrar" type="submit" name="btnBorrar" value="Borrar"></th>
                    </tr>
                    </thead>
                    <tbody>
                    {% for user in users %}
                        <tr>
                            <td>{{ user.email }}</td>
                            <td>{{ user.name }}</td>
                            <td>{{ user.surname }}</td>
                            <td><label>
                                    <input type="checkbox" name="userEmails" value={{ user.email }}/>
                                </label></td>
                        </tr>
                    {% endfor %}
                    </tbody>
                </table>
            </form>
        {% else %}
            <p>No hay usuarios en el sistema</p>
        {% endif %}
    </div>
    <div class="row text-center">
        <ul class="pagination">
            {%  for page in pages %}
            <li class="page-item" id="pi-{{ page }}">
                <a class="page-link" href="/users/?page={{ page }}">{{ page }}</a>
            </li>
            {% endfor %}
            <script>
                $('#pi-'+'{{ currentPage }}').addClass('active');
            </script>
        </ul>
    </div>
{% endblock %}